<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Angel Ojeda - Personal Website</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <main>
        <section class="hero">
            <img src="profile-photo.svg" alt="Your Name" class="profile-photo">
            <h1>Angel Ojeda</h1>
            <p class="tagline">Cybersecurity & AWS Enthusiast</p>
            <a href="https://builder.aws.com/community/@makanaki" target="_blank" class="aws-link">AWS Builder Center
                Profile</a>
        </section>

        <!-- LEAGUE DATA LOOKUP SECTION -->
          <section class="league-lookup">
        <canvas id="cyber-bg"></canvas>
        <div class="league-bg-overlay"></div>

        <div class="lookup-container">
            <h2>League Data Lookup</h2>
            <div id="lookup-message" class="lookup-message"></div>

            <div class="form-group">
                <label for="summoner-name">Riot ID</label>
                <input type="text" id="summoner-name" placeholder="GameName#TAG">
            </div>

            <div class="form-group">
                <label for="region">Region</label>
                <select id="region" name="region">
                    <option value="na1">North America</option>
                    <option value="euw1">Europe West</option>
                    <option value="eun1">Europe Nordic & East</option>
                    <option value="kr">Korea</option>
                    <option value="br1">Brazil</option>
                    <option value="la1">Latin America North</option>
                    <option value="la2">Latin America South</option>
                    <option value="oc1">Oceania</option>
                    <option value="tr1">Turkey</option>
                    <option value="ru">Russia</option>
                    <option value="jp1">Japan</option>
                </select>
            </div>

            <button id="lookup-btn">Look Up Summoner</button>

            <div id="summoner-results" style="display:none;">
                <div id="summoner-info"></div>
                <div id="champion-mastery"></div>
            </div>
        </div>
    </section>

    <script src="script.js"></script>
        <!-- END LEAGUE DATA LOOKUP SECTION -->
    </main>

    <footer>
        <p>&copy; 2025 Angel Ojeda. Built with ❤️ on AWS</p>
    </footer>

    <!-- Contact form JavaScript -->
    <script src="script.js"></script>
    <script>
   // === Riot API Integration ===
const RIOT_API_URL = 'https://sfyfgbxxhiz5bzxmfto5vy6zbu0yqstx.lambda-url.us-east-1.on.aws/'; // Replace with your real Function URL

document.addEventListener('DOMContentLoaded', function() {
    const lookupBtn = document.getElementById('lookup-btn');
    const summonerNameInput = document.getElementById('summoner-name');
    const regionSelect = document.getElementById('region');

    lookupBtn.addEventListener('click', async function() {
        const summonerName = summonerNameInput.value.trim();
        const region = regionSelect.value;
        const messageDiv = document.getElementById('lookup-message');
        const resultsDiv = document.getElementById('summoner-results');

        if (!summonerName) {
            showMessage('Please enter a Riot ID', 'error');
            return;
        }

        if (!summonerName.includes('#')) {
            showMessage('Please use Riot ID format: GameName#TAG', 'error');
            return;
        }

        lookupBtn.textContent = 'Looking up...';
        lookupBtn.disabled = true;
        messageDiv.style.display = 'none';
        resultsDiv.style.display = 'none';

        try {
            const response = await fetch(RIOT_API_URL, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ summonerName, region })
            });

            const data = await response.json();

            if (response.ok) {
                displaySummonerData(data);
                showMessage('Summoner found!', 'success');
            } else {
                showMessage(data.error || 'Failed to fetch summoner data', 'error');
            }
        } catch (error) {
            console.error('Error:', error);
            showMessage('Network error. Please try again.', 'error');
        }

        lookupBtn.textContent = 'Look Up Summoner';
        lookupBtn.disabled = false;
    });

    summonerNameInput.addEventListener('keypress', e => {
        if (e.key === 'Enter') lookupBtn.click();
    });
});

function displaySummonerData(data) {
    const resultsDiv = document.getElementById('summoner-results');
    const summonerInfo = document.getElementById('summoner-info');
    const championMastery = document.getElementById('champion-mastery');

    summonerInfo.innerHTML = `
        <div class="summoner-card">
            <h5>${data.summoner.name}</h5>
            <p>Level: ${data.summoner.level}</p>
        </div>
    `;

    fetch('championship.json')
        .then(response => response.json())
        .then(championshipData => {
            if (data.topChampions && data.topChampions.length > 0) {
                const championsHtml = data.topChampions.map(champ => {
                    const champData = Object.values(championshipData.data).find(c => c.key == champ.championId);
                    const champName = champData ? champData.name : 'Unknown Champion';
                    return `
                        <div class="champion-card">
                            <p><strong>${champName}</strong></p>
                            <p>Level: ${champ.championLevel}</p>
                            <p>Points: ${champ.championPoints.toLocaleString()}</p>
                        </div>
                    `;
                }).join('');

                championMastery.innerHTML = `
                    <h5>Top Champions</h5>
                    <div class="champions-grid">${championsHtml}</div>
                `;
            } else {
                championMastery.innerHTML = '<p>No champion mastery data found.</p>';
            }

            resultsDiv.style.display = 'block';
        });
}

function showMessage(text, type) {
    const messageDiv = document.getElementById('lookup-message');
    messageDiv.textContent = text;
    messageDiv.className = `lookup-message ${type}`;
    messageDiv.style.display = 'block';
    setTimeout(() => messageDiv.style.display = 'none', 10000);
}

// === Cyber Background Animation ===
const canvas = document.getElementById("cyber-bg");
if (canvas) {
    const ctx = canvas.getContext("2d");
    let w, h, hexes = [];

    function resize() {
        w = canvas.width = canvas.offsetWidth;
        h = canvas.height = canvas.offsetHeight;
    }
    window.addEventListener("resize", resize);
    resize();

    const hexRadius = 40;
    const hexHeight = Math.sqrt(3) * hexRadius / 2;

    for (let i = 0; i < 40; i++) {
        hexes.push({
            x: Math.random() * w,
            y: Math.random() * h,
            speedY: 0.2 + Math.random() * 0.4,
            glow: Math.random() * 0.8 + 0.2,
            color: Math.random() > 0.5 ? "#00f5ff" : "#c89b3c"
        });
    }

    function drawHex(x, y, r, color, glow) {
        ctx.beginPath();
        for (let i = 0; i < 6; i++) {
            const angle = Math.PI / 3 * i;
            const px = x + r * Math.cos(angle);
            const py = y + r * Math.sin(angle);
            if (i === 0) ctx.moveTo(px, py);
            else ctx.lineTo(px, py);
        }
        ctx.closePath();
        ctx.strokeStyle = color;
        ctx.shadowColor = color;
        ctx.shadowBlur = 15 * glow;
        ctx.lineWidth = 1.5;
        ctx.stroke();
    }

    function animate() {
        ctx.clearRect(0, 0, w, h);
        hexes.forEach(hex => {
            hex.y += hex.speedY;
            if (hex.y - hexRadius > h) hex.y = -hexRadius;
            drawHex(hex.x, hex.y, hexRadius * 0.5, hex.color, hex.glow);
        });
        requestAnimationFrame(animate);
    }
    animate();
}

    </script>
</body>

</html>